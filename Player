using UnityEngine;
using UnityEngine.Events;

public class Player : MonoBehaviour
{
    [SerializeField] private UnityEvent _livesHaveChanged;
    [SerializeField] private int _damage;
    [SerializeField] private int _healed;

    private int _healh = 100;
    private int _maxHeale = 100;
    private int _minHeale = 0;

    public int Healh => _healh;

    private void TakeDamage()
    {
        if (_healh > _minHeale && _damage > 0)
        {
            _healh -= _damage;
            _livesHaveChanged?.Invoke();

            if (_healh < 0)
            {
                _healh = 0;
            }
        }
    }

    private void Healed()
    {
        if (_maxHeale > _healh && _healed > 0)
        {
            _healh += _healed;
            _livesHaveChanged?.Invoke();

            if (_healh > _maxHeale)
            {
                _healh = _maxHeale;
            }

        }
    }
}
